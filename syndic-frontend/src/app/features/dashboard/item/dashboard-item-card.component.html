<article
  class="rounded-xl border bg-[color:var(--color-bg)] p-3 flex flex-col gap-1.5
         transition-all duration-150 hover:-translate-y-0.5 hover:shadow-md"
  [ngClass]="{
    'border-[color:var(--color-danger)]': variant === 'danger',
    ' border-(--color-border)': variant !== 'danger'
  }"
>
  <div class="flex items-center justify-between gap-2">
    <span
      class="inline-flex items-center gap-1 rounded-full border bg-[color:var(--color-bg)]
             px-2.5 py-0.5 text-[10px] font-medium uppercase tracking-wide"
      [ngClass]="{
        'border-[color:var(--color-primary)]': variant === 'primary',
        'text-[color:var(--color-primary-600)]': variant === 'primary',
        'border-[color:var(--color-danger)]': variant === 'danger',
        'text-[color:var(--color-danger-600,#dc2626)]': variant === 'danger',
        'border-[color:var(--color-warning)]': variant === 'warning',
        'text-[color:var(--color-warning)]': variant === 'warning'
      }"
    >
      <span>{{ icon }}</span>
      <span>{{ label }}</span>
    </span>

    <div class="flex items-center gap-1">
      <span class="text-[11px] text-(--color-muted)">
        @if (useTimeToDate) {
          {{ item.date | timetodate | date: "mediumDate" }}
        } @else {
          {{ item.date | date: "mediumDate" }}
        }
      </span>
      <button
        type="button"
        class="rounded-md px-2 py-1 text-[10px] font-medium uppercase tracking-wide text-white transition-colors"
        [ngClass]="{
          'bg-[color:var(--color-danger)]': variant === 'danger',
          'hover:bg-[color:var(--color-danger-600,#b91c1c)]': variant === 'danger',
          'bg-[color:var(--color-primary)]': variant !== 'danger',
          'hover:bg-[color:var(--color-primary-600)]': variant !== 'danger'
        }"
        (click)="emitAction('ai')"
      >
        AI
      </button>
      <button
        type="button"
        class="rounded-md border  border-(--color-border) bg-(--color-surface)
               px-2 py-1 text-[10px] font-medium uppercase tracking-wide text-(--color-text)
               hover:bg-[color:var(--color-bg)] transition-colors"
        (click)="emitAction('open')"
      >
        View
      </button>
      
    </div>
  </div>

  <div class="flex gap-2">
    @if(item.image){
      <img class="w-16 rounded-md" [src]="item.image" />
    }
    <div>
      <p class="text-md font-semibold text-(--color-text)">
    {{ item.title }}
  </p>

  @if (item.detail) {
    <p class="text-xs text-(--color-muted) leading-snug">
      {{ item.detail }}
    </p>
  }
    </div>
  </div>

  @if (item.status) {
    <p
      class="text-[11px] mt-0.5"
      [ngClass]="{
        'text-[color:var(--color-danger-600,#dc2626)]': variant === 'danger',
        'text-(--color-muted)': variant !== 'danger'
      }"
    >
      Statut : {{ item.status }}
    </p>
  }
</article>
